<html>
<head>
	<title>Express Message Board</title>
	<!-- <link rel="stylesheet" type="text/css" href="http://necolas.github.io/normalize.css/1.1.2/normalize.css"> -->
    <link rel="stylesheet" type="text/css" href="public/css/styles.css">
    <link href='http://fonts.googleapis.com/css?family=Merriweather:300,700' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
	<script type="text/javascript">
		$(function () {
			var socket = io.connect("/"); //like a persistent tube between client and server on directory '/'

			$.get("/messages", function (data) {
				var i = 0;
				for (i = 0; i < data.length; i++)
					$("#messageBoard").append("<p>" + data[i] + "</p>");
			});

                        //------------- It's a good idea to avoid default "message" channel --------------
                        socket.on("msgEntry", function (data) { //event listener, when server sends message, do the below operation
					$("#messageBoard").append("<p>" + data + "</p>");
			});

			$("#sendBtn").click(function () {
				var msgText = $("#msgText").val();
				socket.emit("msgEntry", msgText); //we're no longer sending a POST, we do socket.send
				$("#msgText").focus().val("");
			});
		});
	</script>
</head>
<body>

		<header>
			<div class ="container">
		        <h1><a href="/">ProjectName</a></h1>
		        <ul>
		            <li><a class='login' href="">Login</a></li>
		            <li><a href="">Dashboard</a></li>
		            <li><a href="">My Classes</a></li>
		        </ul>
		    </div>
	    </header>

	    <div id="hero">
	    	<div class ="container">
		    	<span>
		            <h2>CS1231: Discrete Structures</h2>
		            <h3>Assoc. Prof. St√©phane Bressane</h3>
	            </span>
	        </div>
	    </div>

	    <div class='msgwrap'>
	    	<div class ="container">
				<div id="messageBoard"></div>
				<div id="messageInput">
					<input id="msgText" type="text" autofocus placeholder="Your message here"/>
					<button id="sendBtn">Send</button>
				</div>
			</div>
		</div>


</body>
</html>